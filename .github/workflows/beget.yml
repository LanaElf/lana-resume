#name: Deploy to Beget
#
#on:
#  push:
#    branches:
#      - master
#  workflow_dispatch:
#
#jobs:
#  build-and-deploy:
#    runs-on: ubuntu-latest
#
#    steps:
#      - name: Checkout code
#        uses: actions/checkout@v4
#
#      - name: Setup Node.js
#        uses: actions/setup-node@v4
#        with:
#          node-version: 24
#          cache: 'npm'
#
#      - name: Install dependencies
#        run: npm ci
#
#      - name: Run Vitest tests
#        run: npx vitest run
#
#      - name: Build static version for Beget
#        run: npm run generate
#        env:
#          NUXT_APP_BASE_URL: '/'
#
#      - name: Copy assets to build
#        run: |
#          mkdir -p .output/public/_nuxt/assets
#          cp -r assets/* .output/public/_nuxt/assets/ || true
#
#      - name: Deploy to Beget via FTP
#        uses: SamKirkland/FTP-Deploy-Action@4.3.0
#        with:
#          server: ${{ secrets.BEGET_HOST }}
#          username: ${{ secrets.BEGET_FTP_USER }}
#          password: ${{ secrets.BEGET_FTP_PASSWORD }}
#          local-dir: .output/public/
#          server-dir: /
#
#      - name: Notify Telegram on success
#        if: success()
#        uses: appleboy/telegram-action@master
#        with:
#          to: ${{ secrets.TELEGRAM_TO }}
#          token: ${{ secrets.TELEGRAM_TOKEN }}
#          message: |
#            ‚úÖ *Beget Deploy Success* ‚úÖ
#            –†–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π: ${{ github.repository }}
#            –í–µ—Ç–∫–∞: ${{ github.ref }}
#            –ö–æ–º–º–∏—Ç: ${{ github.sha }}
#            –ê–≤—Ç–æ—Ä: ${{ github.actor }}
#          format: Markdown
#
#      - name: Notify Telegram on failure
#        if: failure()
#        uses: appleboy/telegram-action@master
#        with:
#          to: ${{ secrets.TELEGRAM_TO }}
#          token: ${{ secrets.TELEGRAM_TOKEN }}
#          message: |
#            üö® *Beget Deploy Failed* üö®
#            –†–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π: ${{ github.repository }}
#            –í–µ—Ç–∫–∞: ${{ github.ref }}
#            –ö–æ–º–º–∏—Ç: ${{ github.sha }}
#            –ê–≤—Ç–æ—Ä: ${{ github.actor }}
#            Workflow: ${{ github.workflow }}
#            –ü–æ–¥—Ä–æ–±–Ω–µ–µ: ${{ github.server_url }}/${{ github.repository }}/actions/runs/${{ github.run_id }}
#          format: Markdown